{% extends "booking/base_bs.html" %}
{% block head_title%}List{% endblock %}
{% load widget_tweaks %}
{% block content %}
<form method="get">
    <div class="card card-body bg-light">
        <h4>Filter</h4>
        <div class="row">
            <div class="form-group col-sm-4 col-md-6">
            {{ attendance_filter.form.book__event.label_tag }}
            {% render_field attendance_filter.form.book__event class="form-control" %}
            </div>
            <div class="form-group col-sm-2 col-md-2">
            {{ attendance_filter.form.attendance_date.label_tag }}
            {% render_field attendance_filter.form.attendance_date class="datepicker form-control" %}
            </div>
        </div>
        <button type="submit" name="filter" class="btn btn-primary">
        <i class="fas fa-search"></i> Search
        </button>
    </div>
</form>
<form action="{% url 'teacher_attendance' %}" method="POST">{% csrf_token %}
    <div class="table-responsive">
    <table class="table table-hover table-borderless">
        <caption>Todays date: {{date_today}}</caption>
        <thead>
            <th scope="col">Name</th>
            <th scope="col">Attendance</th>
            <th scope="col">Switch</th>
            <th scope="col">Id</th>
            <th scope="col">Event</th>
        </thead>
        <tbody>
            {% for obj in attendance_list %}
            <tr>
                <th scope="row">{{obj.book.user.get_full_name}}</td>
                <td>{{obj.get_check_today}}</td>
                <td><input type="checkbox" name="check" value="{{obj.id}} {{obj.get_num_today}}"></td>
                <td>{{obj.book.id}}</td>
                <td>{{obj.book.event}}</td>
            </tr>
            {% endfor%}
        </tbody>
    </table>
    </div>
        <button type="submit" name="update" class="btn btn-warning">
        <i class="fas fa-edit"></i> Check
        </button>
</form>
{% endblock %}
